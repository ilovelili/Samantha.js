{"filter":false,"title":"TabBarView.js","tooltip":"/lib/SamanthaClosure/samantha/ui/tabbar/TabBarView.js","undoManager":{"mark":18,"position":18,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":126,"column":0},"action":"insert","lines":["// Copyright 2014 Startup Kitchen. All Rights Reserved.","//","// Licensed under the Apache License, Version 2.0 (the \"License\");","// you may not use this file except in compliance with the License.","// You may obtain a copy of the License at","//","//      http://www.apache.org/licenses/LICENSE-2.0","//","// Unless required by applicable law or agreed to in writing, software","// distributed under the License is distributed on an \"AS-IS\" BASIS,","// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","// See the License for the specific language governing permissions and","// limitations under the License.","","goog.provide('tart.ui.TabBarView');","goog.require('tart.ui.View');","","","","/**"," * @constructor"," * @extends {tart.ui.View}"," */","tart.ui.TabBarView = function() {","    goog.base(this);","};","goog.inherits(tart.ui.TabBarView, tart.ui.View);","","","/**"," * @override"," */","tart.ui.TabBarView.prototype.onAfterRender = function() {","    this.vm = new tart.ui.ViewManager(this.getElement());","};","","","/**"," * @param {goog.events.BrowserEvent} e Item touch event handler."," */","tart.ui.TabBarView.prototype.onItemTap = function(e) {","    var activeItem = this.getChild(this.mappings.ACTIVE)[0];","    if (activeItem && activeItem == e.target) return;","","    var itemIndex = [].indexOf.call(this.getChild(this.mappings.ITEMS)[0].childNodes, e.target);","","    this.activateItem(itemIndex);","};","","","/**"," * Adds active class to item."," * @param {number} index Index of the item to be active."," */","tart.ui.TabBarView.prototype.activateItem = function(index) {","    if (index == -1) return;","","    this.deactivateActiveItem();","    var item = this.getChild(this.mappings.ITEM)[index];","    goog.dom.classes.add(item, 'active');","","    if (this.views && this.views[index])","        this.vm.setCurrentView(this.views[index], true);","};","","","/**"," * Activates a tab bar item with a given name. If an item for the given the name isn't found, does nothing."," *"," * @param {string} name Name for the tab bar item."," */","tart.ui.TabBarView.prototype.activateItemByName = function(name) {","    var child = this.getChild(this.mappings.ITEM + '[data-view=' + name + ']')[0];","    if (!child) return;","","    var itemIndex = [].indexOf.call(this.getChild(this.mappings.ITEMS)[0].childNodes, child);","","    this.activateItem(itemIndex);","};","","","/**"," * Removes active class of active item."," */","tart.ui.TabBarView.prototype.deactivateActiveItem = function() {","    var activeItem = this.getChild(this.mappings.ACTIVE);","    if (activeItem && activeItem.length)","        goog.dom.classes.remove(activeItem[0], 'active');","};","","","/**"," * @return {string} Base template of NavigationBar component."," */","tart.ui.TabBarView.prototype.templates_content = function() {","    return '<tab-bar id=\"' + this.id + '\">' +","            '<tab-items>' +","            this.templates_items() +","            '</tab-items>' +","        '</tab-bar>';","};","","","/**"," * @return {string} Template for tab bar items."," */","tart.ui.TabBarView.prototype.templates_items = function() {","    return '';","};","","","/**"," * @enum {string} Dom mappings."," */","tart.ui.TabBarView.prototype.mappings = {","    ITEM: 'tab-item',","    ITEMS: 'tab-items',","    ACTIVE: '.active'","};","","","(function() {","    this.events = {};","    var tap = this.events[goog.events.EventType.TOUCHEND] = {};","    tap[this.mappings.ITEM] = this.onItemTap;","}).call(tart.ui.TabBarView.prototype);",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":13,"column":0},"action":"remove","lines":["// Copyright 2014 Startup Kitchen. All Rights Reserved.","//","// Licensed under the Apache License, Version 2.0 (the \"License\");","// you may not use this file except in compliance with the License.","// You may obtain a copy of the License at","//","//      http://www.apache.org/licenses/LICENSE-2.0","//","// Unless required by applicable law or agreed to in writing, software","// distributed under the License is distributed on an \"AS-IS\" BASIS,","// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","// See the License for the specific language governing permissions and","// limitations under the License.",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":14},"end":{"row":0,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":0,"column":14},"end":{"row":0,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":14},"end":{"row":1,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":1,"column":14},"end":{"row":1,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":13},"end":{"row":7,"column":17},"action":"remove","lines":["tart"]},{"start":{"row":7,"column":13},"end":{"row":7,"column":28},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":0},"end":{"row":9,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":9,"column":0},"end":{"row":9,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":14},"end":{"row":12,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":12,"column":14},"end":{"row":12,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":45},"end":{"row":12,"column":49},"action":"remove","lines":["tart"]},{"start":{"row":12,"column":45},"end":{"row":12,"column":60},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":0},"end":{"row":18,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":18,"column":0},"end":{"row":18,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":18},"end":{"row":19,"column":22},"action":"remove","lines":["tart"]},{"start":{"row":19,"column":18},"end":{"row":19,"column":33},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":0},"end":{"row":26,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":26,"column":0},"end":{"row":26,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":0},"end":{"row":40,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":40,"column":0},"end":{"row":40,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":0},"end":{"row":57,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":57,"column":0},"end":{"row":57,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":70,"column":0},"end":{"row":70,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":70,"column":0},"end":{"row":70,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":0},"end":{"row":80,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":80,"column":0},"end":{"row":80,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":92,"column":0},"end":{"row":92,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":92,"column":0},"end":{"row":92,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":0},"end":{"row":100,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":100,"column":0},"end":{"row":100,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":111,"column":8},"end":{"row":111,"column":12},"action":"remove","lines":["tart"]},{"start":{"row":111,"column":8},"end":{"row":111,"column":23},"action":"insert","lines":["samanthaClosure"]}]}]]},"ace":{"folds":[],"scrolltop":1396,"scrollleft":0,"selection":{"start":{"row":107,"column":13},"end":{"row":107,"column":13},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1425207653729,"hash":"ec6bb10f11451560647656534bf650284f4e8b1e"}