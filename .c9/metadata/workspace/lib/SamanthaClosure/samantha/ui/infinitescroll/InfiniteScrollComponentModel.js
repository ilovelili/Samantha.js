{"filter":false,"title":"InfiniteScrollComponentModel.js","tooltip":"/lib/SamanthaClosure/samantha/ui/infinitescroll/InfiniteScrollComponentModel.js","undoManager":{"mark":14,"position":14,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":95,"column":0},"action":"insert","lines":["// Copyright 2014 Startup Kitchen. All Rights Reserved.","//","// Licensed under the Apache License, Version 2.0 (the \"License\");","// you may not use this file except in compliance with the License.","// You may obtain a copy of the License at","//","//      http://www.apache.org/licenses/LICENSE-2.0","//","// Unless required by applicable law or agreed to in writing, software","// distributed under the License is distributed on an \"AS-IS\" BASIS,","// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","// See the License for the specific language governing permissions and","// limitations under the License.","","goog.provide('tart.ui.InfiniteScrollComponentModel');","goog.require('tart.ui.ComponentModel');","","","","/**"," * Model for the load more component. Manages loading states to prevent"," * performance problems like double actions."," *"," * @constructor"," * @extends {tart.ui.ComponentModel}"," */","tart.ui.InfiniteScrollComponentModel = function() {","    this.reset();","};","goog.inherits(tart.ui.InfiniteScrollComponentModel, tart.ui.ComponentModel);","","","/**"," * Resets the component state to default state."," */","tart.ui.InfiniteScrollComponentModel.prototype.reset = function() {","    this.state_ = this.State.DEFAULT;","};","","","/**"," * If the component is not in LOADING state, it should check to see if it"," * should load. This method will be triggered on every scroll event."," */","tart.ui.InfiniteScrollComponentModel.prototype.triggerShouldCheckState = function() {","    if (this.state_ != this.State.LOADING)","        this.state_ = this.State.SHOULD_CHECK;","};","","","/**"," * Informs the caller if this model is in an appropriate state for checking"," * the right (scroll) position."," *"," * @return {boolean} Whether the component should check for the right"," *                   (scroll) position."," */","tart.ui.InfiniteScrollComponentModel.prototype.shouldCheck = function() {","    return this.state_ == this.State.SHOULD_CHECK;","};","","","/**"," * Dispatches a load event to inform the parent component that it's at the end"," * of a scroll and should load more items."," */","tart.ui.InfiniteScrollComponentModel.prototype.load = function() {","    if (!this.shouldCheck()) return;","","    this.state_ = this.State.LOADING;","","    this.dispatchEvent(this.EventType.SHOULD_LOAD);","};","","","/**"," * Load more states."," *"," * @enum {string}"," */","tart.ui.InfiniteScrollComponentModel.prototype.State = {","    DEFAULT: 'default',","    SHOULD_CHECK: 'shouldCheck',","    LOADING: 'loading'","};","","","/**"," * Event types for this model."," *"," * @enum {string}"," */","tart.ui.InfiniteScrollComponentModel.prototype.EventType = {","    SHOULD_LOAD: 'load'","};",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":13,"column":0},"action":"remove","lines":["// Copyright 2014 Startup Kitchen. All Rights Reserved.","//","// Licensed under the Apache License, Version 2.0 (the \"License\");","// you may not use this file except in compliance with the License.","// You may obtain a copy of the License at","//","//      http://www.apache.org/licenses/LICENSE-2.0","//","// Unless required by applicable law or agreed to in writing, software","// distributed under the License is distributed on an \"AS-IS\" BASIS,","// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","// See the License for the specific language governing permissions and","// limitations under the License.",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":14},"end":{"row":0,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":0,"column":14},"end":{"row":0,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":14},"end":{"row":1,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":1,"column":14},"end":{"row":1,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":13},"end":{"row":10,"column":17},"action":"remove","lines":["tart"]},{"start":{"row":10,"column":13},"end":{"row":10,"column":28},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":0},"end":{"row":12,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":12,"column":0},"end":{"row":12,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":15,"column":14},"end":{"row":15,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":15,"column":14},"end":{"row":15,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":15,"column":63},"end":{"row":15,"column":67},"action":"remove","lines":["tart"]},{"start":{"row":15,"column":63},"end":{"row":15,"column":78},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":0},"end":{"row":21,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":21,"column":0},"end":{"row":21,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":0},"end":{"row":30,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":30,"column":0},"end":{"row":30,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":0},"end":{"row":43,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":43,"column":0},"end":{"row":43,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":0},"end":{"row":52,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":52,"column":0},"end":{"row":52,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":0},"end":{"row":66,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":66,"column":0},"end":{"row":66,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":0},"end":{"row":78,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":78,"column":0},"end":{"row":78,"column":15},"action":"insert","lines":["samanthaClosure"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":12,"column":20},"end":{"row":12,"column":20},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1425196283300,"hash":"a29dad61ecd9068af0dbdb40b2dda0863f322a8d"}