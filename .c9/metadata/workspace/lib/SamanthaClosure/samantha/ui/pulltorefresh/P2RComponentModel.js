{"filter":false,"title":"P2RComponentModel.js","tooltip":"/lib/SamanthaClosure/samantha/ui/pulltorefresh/P2RComponentModel.js","undoManager":{"mark":14,"position":14,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":95,"column":0},"action":"insert","lines":["// Copyright 2014 Startup Kitchen. All Rights Reserved.","//","// Licensed under the Apache License, Version 2.0 (the \"License\");","// you may not use this file except in compliance with the License.","// You may obtain a copy of the License at","//","//      http://www.apache.org/licenses/LICENSE-2.0","//","// Unless required by applicable law or agreed to in writing, software","// distributed under the License is distributed on an \"AS-IS\" BASIS,","// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","// See the License for the specific language governing permissions and","// limitations under the License.","","goog.provide('tart.ui.P2RComponentModel');","goog.require('tart.ui.ComponentModel');","","","","/**"," * Model for the pull to refresh component. Manages refreshing states to prevent"," * performance problems like double actions."," *"," * @constructor"," * @extends {tart.ui.ComponentModel}"," */","tart.ui.P2RComponentModel = function() {","    this.reset();","};","goog.inherits(tart.ui.P2RComponentModel, tart.ui.ComponentModel);","","","/**"," * Resets the component state to default state."," */","tart.ui.P2RComponentModel.prototype.reset = function() {","    this.state_ = this.State.DEFAULT;","};","","","/**"," * If the component is not in REFRESHING state, it should check to see if it"," * should refresh. This method will be triggered on every scroll event."," */","tart.ui.P2RComponentModel.prototype.triggerShouldCheckState = function() {","    if (this.state_ != this.State.REFRESHING)","        this.state_ = this.State.SHOULD_CHECK;","};","","","/**"," * Informs the caller if this model is in an appropriate state for checking"," * the right (scroll) position."," *"," * @return {boolean} Whether the component should check for the right"," *                   (scroll) position."," */","tart.ui.P2RComponentModel.prototype.shouldCheck = function() {","    return this.state_ == this.State.SHOULD_CHECK;","};","","","/**"," * Dispatches a refresh event to inform the parent component that it's at the appropriate"," * position for refresh."," */","tart.ui.P2RComponentModel.prototype.refresh = function() {","    if (!this.shouldCheck()) return;","","    this.state_ = this.State.REFRESHING;","","    this.dispatchEvent(this.EventType.SHOULD_REFRESH);","};","","","/**"," * Pull to refresh states."," *"," * @enum {string}"," */","tart.ui.P2RComponentModel.prototype.State = {","    DEFAULT: 'default',","    SHOULD_CHECK: 'shouldCheck',","    REFRESHING: 'refreshing'","};","","","/**"," * Event types for this model."," *"," * @enum {string}"," */","tart.ui.P2RComponentModel.prototype.EventType = {","    SHOULD_REFRESH: 'refresh'","};",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":13,"column":0},"action":"remove","lines":["// Copyright 2014 Startup Kitchen. All Rights Reserved.","//","// Licensed under the Apache License, Version 2.0 (the \"License\");","// you may not use this file except in compliance with the License.","// You may obtain a copy of the License at","//","//      http://www.apache.org/licenses/LICENSE-2.0","//","// Unless required by applicable law or agreed to in writing, software","// distributed under the License is distributed on an \"AS-IS\" BASIS,","// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","// See the License for the specific language governing permissions and","// limitations under the License.",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":14},"end":{"row":0,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":0,"column":14},"end":{"row":0,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":14},"end":{"row":1,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":1,"column":14},"end":{"row":1,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":13},"end":{"row":10,"column":17},"action":"remove","lines":["tart"]},{"start":{"row":10,"column":13},"end":{"row":10,"column":28},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":0},"end":{"row":12,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":12,"column":0},"end":{"row":12,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":15,"column":14},"end":{"row":15,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":15,"column":14},"end":{"row":15,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":15,"column":52},"end":{"row":15,"column":56},"action":"remove","lines":["tart"]},{"start":{"row":15,"column":52},"end":{"row":15,"column":67},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":0},"end":{"row":21,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":21,"column":0},"end":{"row":21,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":0},"end":{"row":30,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":30,"column":0},"end":{"row":30,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":0},"end":{"row":43,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":43,"column":0},"end":{"row":43,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":0},"end":{"row":52,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":52,"column":0},"end":{"row":52,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":0},"end":{"row":66,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":66,"column":0},"end":{"row":66,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":0},"end":{"row":78,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":78,"column":0},"end":{"row":78,"column":15},"action":"insert","lines":["samanthaClosure"]}]}]]},"ace":{"folds":[],"scrolltop":852,"scrollleft":0,"selection":{"start":{"row":76,"column":17},"end":{"row":76,"column":17},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1425207429634,"hash":"dcee383b387c5f09c0609d3f85899ee91ea241bc"}