{"filter":false,"title":"Pagination.js","tooltip":"/lib/SamanthaClosure/samantha/pagination/Pagination.js","undoManager":{"mark":29,"position":29,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":254,"column":0},"action":"insert","lines":["// Copyright 2011 Tart. All Rights Reserved.","//","// Licensed under the Apache License, Version 2.0 (the \"License\");","// you may not use this file except in compliance with the License.","// You may obtain a copy of the License at","//","//      http://www.apache.org/licenses/LICENSE-2.0","//","// Unless required by applicable law or agreed to in writing, software","// distributed under the License is distributed on an \"AS-IS\" BASIS,","// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","// See the License for the specific language governing permissions and","// limitations under the License.","","/**"," * @fileoverview tart.Pagination is an event driven Pagination object."," *"," * Example usage:"," *"," *  var paginator = new tart.Pagination();"," *"," *  paginator.setTotalPage(5);"," *  paginator.setCurrentPage(2);"," *"," *  goog.events.listen(paginator, tart.Pagination.EventTypes.PAGE_CHANGED, function (e) {"," *      console.log(\"page changed\");"," *      console.log(\"old page : \" + e.oldValue);"," *      console.log(\"new page : \" + e.newValue);"," *  });"," *"," *  paginator.setCurrentPage(4); // oldPage : 2, newPage : 4"," *  paginator.setCurrentPage(7); // oldPage : 4, newpage : 5 (totalPage)"," *  paginator.prev(); // oldPage : 5, newPage: 4"," *  paginator.setCurrentPage(0); // oldPage : 4, newpage : 1 (at least 1)"," *  paginator.next(); // oldPage : 1, newPage : 2"," *"," */","","","goog.require('goog.debug.ErrorHandler');","goog.require('goog.events.EventHandler');","goog.require('goog.events.EventTarget');","","goog.provide('tart.Pagination');","","","","/**"," * Pagination class to handle all paging events"," *"," * @constructor"," * @extends {goog.events.EventTarget}"," */","tart.Pagination = function() {","","    goog.events.EventTarget.call(this);","","    /** @private */","    this.totalPage_ = 1;","","    /** @protected */","    this.currentPage = 1;","","    /** @private */","    this.itemPerPage_ = 1;","","    /** @private */","    this.totalItems_ = 1;","};","goog.inherits(tart.Pagination, goog.events.EventTarget);","","","/**"," * Event types enumaration"," *"," * @enum {string}"," */","tart.Pagination.EventTypes = {","    PAGE_CHANGED: 'pageChanged'","};","","","/**"," * Trigger page change event"," *"," * @param {string|number} oldValue old page value."," * @param {string|number} newValue new page value."," * @protected"," */","tart.Pagination.prototype.triggerPageChange_ = function(oldValue, newValue) {","    if (oldValue != newValue)","        this.dispatchEvent({type: tart.Pagination.EventTypes.PAGE_CHANGED, oldValue: oldValue, newValue: newValue});","};","","","/**"," * Get total page count"," *"," * @return {number} page count."," */","tart.Pagination.prototype.getTotalPage = function() {","    return this.totalPage_;","};","","","/**"," * Set total page count"," *"," * @param {number} page page count."," * @return {tart.Pagination} ."," */","tart.Pagination.prototype.setTotalPage = function(page) {","    this.totalPage_ = page;","    this.totalItems_ = page * this.itemPerPage_;","    return this;","};","","","/**"," * Get current page"," *"," * @return {number} current page."," */","tart.Pagination.prototype.getCurrentPage = function() {","    return this.currentPage;","};","","","/**"," * Set current page"," *"," * @param {number} page current page."," * @return {tart.Pagination} ."," */","tart.Pagination.prototype.setCurrentPage = function(page) {","    var oldValue = this.currentPage;","","    //if page > totalPage","    page = (page > this.totalPage_) ? this.totalPage_ : page;","","    //if page < 1","    page = (page < 1) ? 1 : page;","","    this.currentPage = page;","","    this.triggerPageChange_(oldValue, page);","","    return this;","};","","","/**"," * Get total item count"," *"," * @return {number} number of items."," */","tart.Pagination.prototype.getTotalItems = function() {","    return this.totalItems_;","};","","","/**"," * Set number of items"," *"," * @param {number} itemCount number of items."," * @return {tart.Pagination} ."," */","tart.Pagination.prototype.setTotalItems = function(itemCount) {","    this.totalItems_ = itemCount;","    this.totalPage_ = Math.ceil(itemCount / this.itemPerPage_);","    return this;","};","","","/**"," * Get number of items to be listed in a page"," *"," * @return {number} number of items in a page."," */","tart.Pagination.prototype.getItemPerPage = function() {","    return this.itemPerPage_;","};","","","/**"," * set number of items to be listed in a page"," *"," * @param {number} itemPerPage number of items in a page."," * @return {tart.Pagination} ."," */","tart.Pagination.prototype.setItemPerPage = function(itemPerPage) {","    this.itemPerPage_ = itemPerPage;","    return this;","};","","","/**"," * Determine if next page is available"," *"," * @return {boolean} is next page available."," */","tart.Pagination.prototype.hasNext = function() {","    return this.currentPage + 1 <= this.totalPage_;","};","","","/**"," * Get next page"," *"," * @return {number} next page number."," */","tart.Pagination.prototype.getNext = function() {","    return this.hasNext() ? this.currentPage + 1 : this.currentPage;","};","","","/**"," * Determine if previous page is available"," *"," * @return {boolean} is previous page available."," */","tart.Pagination.prototype.hasPrev = function() {","    return this.currentPage - 1 >= 1;","};","","","/**"," * Get previous page"," *"," * @return {number} previous page number."," */","tart.Pagination.prototype.getPrev = function() {","    return this.hasPrev() ? this.currentPage - 1 : this.currentPage;","};","","","/**"," * Change page to next page"," */","tart.Pagination.prototype.next = function() {","    var oldValue = this.currentPage;","    this.currentPage = this.getNext();","    this.triggerPageChange_(oldValue, this.currentPage);","};","","","/**"," * Change page to previous page"," */","tart.Pagination.prototype.prev = function() {","    var oldValue = this.currentPage;","    this.currentPage = this.getPrev();","    this.triggerPageChange_(oldValue, this.currentPage);","};",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":13,"column":0},"action":"remove","lines":["// Copyright 2011 Tart. All Rights Reserved.","//","// Licensed under the Apache License, Version 2.0 (the \"License\");","// you may not use this file except in compliance with the License.","// You may obtain a copy of the License at","//","//      http://www.apache.org/licenses/LICENSE-2.0","//","// Unless required by applicable law or agreed to in writing, software","// distributed under the License is distributed on an \"AS-IS\" BASIS,","// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","// See the License for the specific language governing permissions and","// limitations under the License.",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":17},"end":{"row":1,"column":21},"action":"remove","lines":["tart"]},{"start":{"row":1,"column":17},"end":{"row":1,"column":32},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":24},"end":{"row":5,"column":28},"action":"remove","lines":["tart"]},{"start":{"row":5,"column":24},"end":{"row":5,"column":39},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":34},"end":{"row":10,"column":38},"action":"remove","lines":["tart"]},{"start":{"row":10,"column":34},"end":{"row":10,"column":49},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":29,"column":14},"end":{"row":29,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":29,"column":14},"end":{"row":29,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":0},"end":{"row":39,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":39,"column":0},"end":{"row":39,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":14},"end":{"row":55,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":55,"column":14},"end":{"row":55,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":0},"end":{"row":63,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":63,"column":0},"end":{"row":63,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":75,"column":0},"end":{"row":75,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":75,"column":0},"end":{"row":75,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":77,"column":34},"end":{"row":77,"column":38},"action":"remove","lines":["tart"]},{"start":{"row":77,"column":34},"end":{"row":77,"column":49},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":86,"column":0},"end":{"row":86,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":86,"column":0},"end":{"row":86,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":95,"column":12},"end":{"row":95,"column":16},"action":"remove","lines":["tart"]},{"start":{"row":95,"column":12},"end":{"row":95,"column":27},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":97,"column":0},"end":{"row":97,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":97,"column":0},"end":{"row":97,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":109,"column":0},"end":{"row":109,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":109,"column":0},"end":{"row":109,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":118,"column":12},"end":{"row":118,"column":16},"action":"remove","lines":["tart"]},{"start":{"row":118,"column":12},"end":{"row":118,"column":27},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":0},"end":{"row":120,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":120,"column":0},"end":{"row":120,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":142,"column":0},"end":{"row":142,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":142,"column":0},"end":{"row":142,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":151,"column":12},"end":{"row":151,"column":16},"action":"remove","lines":["tart"]},{"start":{"row":151,"column":12},"end":{"row":151,"column":27},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":153,"column":0},"end":{"row":153,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":153,"column":0},"end":{"row":153,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":165,"column":0},"end":{"row":165,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":165,"column":0},"end":{"row":165,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":174,"column":12},"end":{"row":174,"column":16},"action":"remove","lines":["tart"]},{"start":{"row":174,"column":12},"end":{"row":174,"column":27},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":176,"column":0},"end":{"row":176,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":176,"column":0},"end":{"row":176,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":187,"column":0},"end":{"row":187,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":187,"column":0},"end":{"row":187,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":197,"column":0},"end":{"row":197,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":197,"column":0},"end":{"row":197,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":207,"column":0},"end":{"row":207,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":207,"column":0},"end":{"row":207,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":217,"column":0},"end":{"row":217,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":217,"column":0},"end":{"row":217,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":225,"column":0},"end":{"row":225,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":225,"column":0},"end":{"row":225,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":235,"column":0},"end":{"row":235,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":235,"column":0},"end":{"row":235,"column":15},"action":"insert","lines":["samanthaClosure"]}]}]]},"ace":{"folds":[],"scrolltop":3396,"scrollleft":0,"selection":{"start":{"row":220,"column":0},"end":{"row":220,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":5,"state":"doc-start","mode":"ace/mode/javascript"}},"timestamp":1425194192718,"hash":"f248eb2ba93bbec458011d4831ce8fd11b6a6b47"}