{"filter":false,"title":"DropDownList.js","tooltip":"/lib/SamanthaClosure/samantha/dropdownlist/DropDownList.js","undoManager":{"mark":20,"position":20,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":143,"column":0},"action":"insert","lines":["// Copyright 2011 Tart. All Rights Reserved.","//","// Licensed under the Apache License, Version 2.0 (the \"License\");","// you may not use this file except in compliance with the License.","// You may obtain a copy of the License at","//","//      http://www.apache.org/licenses/LICENSE-2.0","//","// Unless required by applicable law or agreed to in writing, software","// distributed under the License is distributed on an \"AS-IS\" BASIS,","// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","// See the License for the specific language governing permissions and","// limitations under the License.","","/**"," * @fileoverview Dropdown list class is an example of an HTML select box."," *"," * Example usage:"," * var items        = {key1:'val1',key2:'val2',key3:'val3'};"," * var builder      = new tart.DropdownBuilder('elementId');"," * var selectedItem = 1;"," * var list = new tart.DropdownList(items, builder, selectedItem);"," * list.getAll(); // Outputs [{key1:'val1'},{key2:'val2'},{key3:'val3'}]"," * list.getDOM(); // Returns a select (dropdown) menu in jquery format jQuery(select#elementId)"," * list.setActiveItemIndex(2); // Sets key3:val3 option element selected property to TRUE;"," * list.getActiveItemIndex(); // Returns an Object { key3=\"val3\" }"," */","","goog.provide('tart.DropdownList');","goog.require('tart.Collection');","goog.require('tart.DropdownBuilder');","","","","/**"," * Constructor method for DropdownList."," *"," * @constructor"," * @extends {tart.Collection}"," * @param {Object|Array}  initialList    initial list of items."," * @param {tart.Builder=} opt_builder    builder class."," * @param {number=}       opt_activeItem index of the active item."," */","tart.DropdownList = function(initialList, opt_builder, opt_activeItem) {","    goog.base(this, initialList, opt_activeItem);","    this.builder = opt_builder || new tart.DropdownBuilder('');","    this.builder.buildDOM(this);","};","goog.inherits(tart.DropdownList, tart.Collection);","","","/**"," * @inheritDoc"," */","tart.DropdownList.prototype.removeByIndex = function(index) {","    var result = this.constructor.superClass_.removeByIndex.call(this, index);","","    if (result === false) {","        return -1;","    } else if (result === -1) {","        this.setActiveItemIndex(0);","        return 0;","    } else {","        if (this.builder) {","            this.builder.removeOption(result);","        }","        return result;","    }","};","","","/**"," * Removes current DOM element of dropdownlist instance from window.document."," */","tart.DropdownList.prototype.removeDOM = function() {","    this.builder.removeDOM();","};","","","/**"," * Returns current DOM element of dropdownlist instance."," *"," * @return {jQueryObject} The jQuery object that wraps the DOM."," */","tart.DropdownList.prototype.getDOM = function() {","    return this.builder.getDOM();","};","","","/**"," * @inheritDoc"," */","tart.DropdownList.prototype.setActiveItemIndex = function(newIndex) {","    this.switchIndex(newIndex);","    if (this.builder) {","        this.builder.changeActiveItem(this.getActiveItemIndex());","        return true;","    }","    return false;","};","","","/**"," * Set active item belongs to value parameter."," * @param {(string|number)} value of an array."," */","tart.DropdownList.prototype.setActiveItemByValue = function(value) {","    var that = this;","","    var items = this.getValues();","    var index = goog.array.findIndex(items, function(item) {","        return value == item;","    });","","    that.setActiveItemIndex(index);","};","","","","/**"," * Triggered by this.builder.dom_ element when user change the index by non-programatically way."," * Important: This method shouldn't be called in any implementation code. Developers should use"," *            this.setActiveItemIndex() method instead of this."," *"," * @param {number} newIndex index of the item to set as active."," */","","tart.DropdownList.prototype.switchIndex = function(newIndex) {","    this.constructor.superClass_.setActiveItemIndex.call(this, ((newIndex < 0) ? 0 : newIndex));","};","","","/**"," * @inheritDoc"," */","tart.DropdownList.prototype.addItem = function(key, value) {","    var added = this.constructor.superClass_.addItem.call(this, key, value);","    if (this.builder && added === true) {","        this.builder.addOption(key, value);","        return true;","    }","    return false;","};",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":13,"column":0},"action":"remove","lines":["// Copyright 2011 Tart. All Rights Reserved.","//","// Licensed under the Apache License, Version 2.0 (the \"License\");","// you may not use this file except in compliance with the License.","// You may obtain a copy of the License at","//","//      http://www.apache.org/licenses/LICENSE-2.0","//","// Unless required by applicable law or agreed to in writing, software","// distributed under the License is distributed on an \"AS-IS\" BASIS,","// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","// See the License for the specific language governing permissions and","// limitations under the License.",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":26},"end":{"row":5,"column":30},"action":"remove","lines":["tart"]},{"start":{"row":5,"column":26},"end":{"row":5,"column":41},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":18},"end":{"row":7,"column":22},"action":"remove","lines":["tart"]},{"start":{"row":7,"column":18},"end":{"row":7,"column":33},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":14},"end":{"row":14,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":14,"column":14},"end":{"row":14,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":15,"column":14},"end":{"row":15,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":15,"column":14},"end":{"row":15,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":14},"end":{"row":16,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":16,"column":14},"end":{"row":16,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":13},"end":{"row":24,"column":17},"action":"remove","lines":["tart"]},{"start":{"row":24,"column":13},"end":{"row":24,"column":28},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":11},"end":{"row":26,"column":15},"action":"remove","lines":["tart"]},{"start":{"row":26,"column":11},"end":{"row":26,"column":26},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":29,"column":0},"end":{"row":29,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":29,"column":0},"end":{"row":29,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":38},"end":{"row":31,"column":42},"action":"remove","lines":["tart"]},{"start":{"row":31,"column":38},"end":{"row":31,"column":53},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":14},"end":{"row":34,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":34,"column":14},"end":{"row":34,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":44},"end":{"row":34,"column":48},"action":"remove","lines":["tart"]},{"start":{"row":34,"column":44},"end":{"row":34,"column":59},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":0},"end":{"row":40,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":40,"column":0},"end":{"row":40,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":0},"end":{"row":60,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":60,"column":0},"end":{"row":60,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":70,"column":0},"end":{"row":70,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":70,"column":0},"end":{"row":70,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":0},"end":{"row":78,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":78,"column":0},"end":{"row":78,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":92,"column":0},"end":{"row":92,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":92,"column":0},"end":{"row":92,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":113,"column":0},"end":{"row":113,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":113,"column":0},"end":{"row":113,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":0},"end":{"row":121,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":121,"column":0},"end":{"row":121,"column":15},"action":"insert","lines":["samanthaClosure"]}]}]]},"ace":{"folds":[],"scrolltop":1604,"scrollleft":0,"selection":{"start":{"row":111,"column":3},"end":{"row":111,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":5,"state":"doc-start","mode":"ace/mode/javascript"}},"timestamp":1425190158471,"hash":"e1cc5eb0b5676a4422d4aedbe99b55e6eac22e0b"}