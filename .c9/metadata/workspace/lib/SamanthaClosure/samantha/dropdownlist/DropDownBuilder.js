{"filter":false,"title":"DropDownBuilder.js","tooltip":"/lib/SamanthaClosure/samantha/dropdownlist/DropDownBuilder.js","undoManager":{"mark":22,"position":22,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":128,"column":0},"action":"insert","lines":["// Copyright 2011 Tart. All Rights Reserved.","//","// Licensed under the Apache License, Version 2.0 (the \"License\");","// you may not use this file except in compliance with the License.","// You may obtain a copy of the License at","//","//      http://www.apache.org/licenses/LICENSE-2.0","//","// Unless required by applicable law or agreed to in writing, software","// distributed under the License is distributed on an \"AS-IS\" BASIS,","// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","// See the License for the specific language governing permissions and","// limitations under the License.","","/**"," * @fileoverview Builder class for dropdown lists."," */","goog.require('tart.Builder');","goog.provide('tart.DropdownBuilder');","","","","/**"," * DropdownBuilder class builds the DOM for DropdownList class."," *"," * @constructor"," * @extends {tart.Builder}"," * @param {string} id id for the builder. Can be used as the id of the DOM element this builder will build."," * @return {tart.DropdownBuilder} A builder object."," */","tart.DropdownBuilder = function(id) {","    goog.base(this, id);","    this.owner = null;","    return this;","};","goog.inherits(tart.DropdownBuilder, tart.Builder);","","","/**"," * Main namespace of HTML templates for DOM structure."," */","tart.DropdownBuilder.templates = {};","","","/**"," * Select menu template."," * @param {string} id Id of the container."," * @param {string} optionListHTML HTML of the list of options."," * @return {string} the container HTML."," */","tart.DropdownBuilder.templates.container = function(id, optionListHTML) {","    return '<select id=\"' + id + '\">' + optionListHTML + '</select>';","};","","","/**"," * Generates a select menu element, converts it to a jQuery object and passes to this.$dom."," *"," * @param {tart.Collection} owner Owner tart.Collection instance."," */","tart.DropdownBuilder.prototype.buildDOM = function(owner) {","    this.owner = owner;","    var opts = [];","    for (var k = 0, z = this.owner.keys_.length; k < z; k++) {","        var option = tart.DropdownBuilder.templates.option(","            this.owner.keys_[k], this.owner.values_[k], (k == this.owner.getActiveItemIndex()));","        opts.push(option);","    }","    var finalDOM = tart.DropdownBuilder.templates.container(this.id_, opts.join(''));","    this.$dom = $(finalDOM);","    this.$dom.change(function() {","        owner.switchIndex($(this).attr('selectedIndex'));","    });","};","","","/**"," * Generates a single option element which ready-to-use in a HTML select menu element."," *"," * @param {string|number} key Option value."," * @param {string|number} value Option value."," * @param {boolean} selected Whether the option is selected."," * @return {string} the option HTML."," */","tart.DropdownBuilder.templates.option = function(key, value, selected) {","    var active = (selected) ? ' selected=\"selected\"' : '';","    return '<option value=\"' + key + '\"' + active + '>' + value + '</option>';","};","","","/**"," * Sets an select option's \"selected\" property to True."," *"," * @param {number} newIndex the new index of the element to set the dropdown list to."," */","tart.DropdownBuilder.prototype.changeActiveItem = function(newIndex) {","    this.$dom.attr('selectedIndex', newIndex).change();","};","","","/**"," * Removes a single select option from DOM by index which given as parameter."," *"," * @param {number} index the index of the element to remove from the list."," */","tart.DropdownBuilder.prototype.removeOption = function(index) {","    this.$dom.children().eq(index).remove();","};","","","/**"," * Creates a single select option and attachs it to the current DOM."," *"," * @param {string|number} key value for the option."," * @param {string|number} value Text for the option."," * @return {jQueryObject} the jQuery object that holds the DOM object of the dropdown list."," */","tart.DropdownBuilder.prototype.addOption = function(key, value) {","    return this.$dom.append(tart.DropdownBuilder.templates.option(key, value, false));","};","","","/**"," * @inheritDoc"," */","tart.DropdownBuilder.prototype.removeDOM = function() {","    this.$dom.remove();","};",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":13,"column":0},"action":"remove","lines":["// Copyright 2011 Tart. All Rights Reserved.","//","// Licensed under the Apache License, Version 2.0 (the \"License\");","// you may not use this file except in compliance with the License.","// You may obtain a copy of the License at","//","//      http://www.apache.org/licenses/LICENSE-2.0","//","// Unless required by applicable law or agreed to in writing, software","// distributed under the License is distributed on an \"AS-IS\" BASIS,","// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","// See the License for the specific language governing permissions and","// limitations under the License.",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":14},"end":{"row":3,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":3,"column":14},"end":{"row":3,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":14},"end":{"row":4,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":4,"column":14},"end":{"row":4,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":13},"end":{"row":12,"column":17},"action":"remove","lines":["tart"]},{"start":{"row":12,"column":13},"end":{"row":12,"column":28},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":12},"end":{"row":14,"column":16},"action":"remove","lines":["tart"]},{"start":{"row":14,"column":12},"end":{"row":14,"column":27},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":0},"end":{"row":16,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":16,"column":0},"end":{"row":16,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":14},"end":{"row":21,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":21,"column":14},"end":{"row":21,"column":29},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":47},"end":{"row":21,"column":51},"action":"remove","lines":["tart"]},{"start":{"row":21,"column":47},"end":{"row":21,"column":62},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":0},"end":{"row":27,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":27,"column":0},"end":{"row":27,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":0},"end":{"row":36,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":36,"column":0},"end":{"row":36,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":11},"end":{"row":44,"column":15},"action":"remove","lines":["tart"]},{"start":{"row":44,"column":11},"end":{"row":44,"column":26},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":51},"end":{"row":44,"column":55},"action":"remove","lines":["tart"]},{"start":{"row":44,"column":51},"end":{"row":44,"column":66},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":46,"column":0},"end":{"row":46,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":46,"column":0},"end":{"row":46,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":21},"end":{"row":50,"column":25},"action":"remove","lines":["tart"]},{"start":{"row":50,"column":21},"end":{"row":50,"column":36},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":19},"end":{"row":54,"column":23},"action":"remove","lines":["tart"]},{"start":{"row":54,"column":19},"end":{"row":54,"column":34},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":70,"column":0},"end":{"row":70,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":70,"column":0},"end":{"row":70,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":0},"end":{"row":81,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":81,"column":0},"end":{"row":81,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":0},"end":{"row":91,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":91,"column":0},"end":{"row":91,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":103,"column":0},"end":{"row":103,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":103,"column":0},"end":{"row":103,"column":15},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":28},"end":{"row":104,"column":32},"action":"remove","lines":["tart"]},{"start":{"row":104,"column":28},"end":{"row":104,"column":43},"action":"insert","lines":["samanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":111,"column":0},"end":{"row":111,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":111,"column":0},"end":{"row":111,"column":15},"action":"insert","lines":["samanthaClosure"]}]}]]},"ace":{"folds":[],"scrolltop":1572,"scrollleft":0,"selection":{"start":{"row":114,"column":0},"end":{"row":114,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":5,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1425190116094,"hash":"613c0a2ce121a8e6d43c2cc8962618867a0d3da9"}