{"filter":false,"title":"Pager.js","tooltip":"/lib/SamanthaClosure/src/base/plugin/Pager.js","undoManager":{"mark":30,"position":30,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":149,"column":0},"action":"insert","lines":["// Copyright 2011 Tart. All Rights Reserved.","//","// Licensed under the Apache License, Version 2.0 (the \"License\");","// you may not use this file except in compliance with the License.","// You may obtain a copy of the License at","//","//      http://www.apache.org/licenses/LICENSE-2.0","//","// Unless required by applicable law or agreed to in writing, software","// distributed under the License is distributed on an \"AS-IS\" BASIS,","// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","// See the License for the specific language governing permissions and","// limitations under the License.","","/**"," * @fileoverview tart.base.plugin.Pager model pager plugin to handle pagination."," */","","goog.provide('tart.base.plugin.Pager');","","goog.require('tart.Pagination');","goog.require('tart.base.plugin.BasePlugin');","","","/**"," * @param {tart.base.Model} model tart.base.Model instance to set pager params."," * @param {tart.Pagination=} pagination optional tart.Pagination instance to handle pagination."," *"," * @extends {tart.base.plugin.BasePlugin}"," * @constructor"," */","tart.base.plugin.Pager = function(model, pagination) {","    goog.base(this, model);","","    var that = this;","","    /** @private */","    that.pagination_ = pagination || new tart.Pagination();","    that.pagination_.setParentEventTarget(this);","","    /**","     * Change offset on page change events","     */","    goog.events.listen(that.pagination_, tart.Pagination.EventTypes.PAGE_CHANGED, function(e) {","        var limit = parseInt(that.map.get('limit'), 10);","        var newOffset = (e.newValue - 1) * limit;","        that.map.set('offset', newOffset);","        that.model.params.set(that.key, that.map);","    });","};","goog.inherits(tart.base.plugin.Pager, tart.base.plugin.BasePlugin);","","/**"," * Plugin's parameter key which is inherited from BasePlugin and should be defined"," */","tart.base.plugin.Pager.prototype.key = 'paginationParams';","","","/**"," * @param {number} pageCount number of pages."," */","tart.base.plugin.Pager.prototype.setTotalPageCount = function(pageCount) {","    this.map.set('pageCount', pageCount);","};","","/**"," * @param {number} offset cursor start point for paging."," */","tart.base.plugin.Pager.prototype.setOffset = function(offset) {","    this.map.set('offset', offset);","};","","","/**"," *"," * @param {number} limit item count to fetch."," */","tart.base.plugin.Pager.prototype.setLimit = function(limit) {","    this.map.set('limit', limit);","    this.pagination_.setItemPerPage(limit);","};","","/**"," *"," * @return {number} current limit."," */","tart.base.plugin.Pager.prototype.getLimit = function() {","    return this.pagination_.getItemPerPage();","};","","","/**"," * @param {number} totalItemCount set total item count for paginator."," */","tart.base.plugin.Pager.prototype.setTotalItems = function(totalItemCount) {","    this.pagination_.setTotalItems(totalItemCount);","};","","/**"," * Next wrapper for paginator."," */","tart.base.plugin.Pager.prototype.next = function() {","    this.pagination_.next();","};","","/**"," * Prev wrapper for paginator."," */","tart.base.plugin.Pager.prototype.prev = function() {","    this.pagination_.prev();","};","","/**"," * setCurrentPage wrapper for paginator."," * @param {number} currentPageNum current page number."," */","tart.base.plugin.Pager.prototype.setCurrentPage = function(currentPageNum) {","    this.pagination_.setCurrentPage(currentPageNum);","};","","/**"," * @return {number} number of pages."," */","tart.base.plugin.Pager.prototype.getTotalPage = function() {","    return this.pagination_.getTotalPage();","};","","/**"," * @return {number} current page number."," */","tart.base.plugin.Pager.prototype.getCurrentPage = function() {","    return this.pagination_.getCurrentPage();","};","","","/**"," * @return {boolean} Whether there is a previous page available."," */","tart.base.plugin.Pager.prototype.hasPrev = function() {","    return this.pagination_.hasPrev();","};","","","/**"," * @return {boolean} Whether there is a next page available."," */","tart.base.plugin.Pager.prototype.hasNext = function() {","    return this.pagination_.hasNext();","};",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":13,"column":0},"action":"remove","lines":["// Copyright 2011 Tart. All Rights Reserved.","//","// Licensed under the Apache License, Version 2.0 (the \"License\");","// you may not use this file except in compliance with the License.","// You may obtain a copy of the License at","//","//      http://www.apache.org/licenses/LICENSE-2.0","//","// Unless required by applicable law or agreed to in writing, software","// distributed under the License is distributed on an \"AS-IS\" BASIS,","// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","// See the License for the specific language governing permissions and","// limitations under the License.",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":17},"end":{"row":1,"column":21},"action":"remove","lines":["tart"]},{"start":{"row":1,"column":17},"end":{"row":1,"column":32},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":14},"end":{"row":4,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":4,"column":14},"end":{"row":4,"column":29},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":14},"end":{"row":6,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":6,"column":14},"end":{"row":6,"column":29},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":14},"end":{"row":7,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":7,"column":14},"end":{"row":7,"column":29},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":11},"end":{"row":11,"column":15},"action":"remove","lines":["tart"]},{"start":{"row":11,"column":11},"end":{"row":11,"column":26},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":45},"end":{"row":11,"column":49},"action":"remove","lines":["tart"]},{"start":{"row":11,"column":45},"end":{"row":11,"column":60},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":11},"end":{"row":12,"column":15},"action":"remove","lines":["tart"]},{"start":{"row":12,"column":11},"end":{"row":12,"column":26},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":60},"end":{"row":12,"column":64},"action":"remove","lines":["tart"]},{"start":{"row":12,"column":60},"end":{"row":12,"column":75},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":13},"end":{"row":14,"column":17},"action":"remove","lines":["tart"]},{"start":{"row":14,"column":13},"end":{"row":14,"column":28},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":17,"column":0},"end":{"row":17,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":17,"column":0},"end":{"row":17,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":23,"column":41},"end":{"row":23,"column":45},"action":"remove","lines":["tart"]},{"start":{"row":23,"column":41},"end":{"row":23,"column":56},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":29,"column":41},"end":{"row":29,"column":45},"action":"remove","lines":["tart"]},{"start":{"row":29,"column":41},"end":{"row":29,"column":56},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":14},"end":{"row":36,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":36,"column":14},"end":{"row":36,"column":29},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":49},"end":{"row":36,"column":53},"action":"remove","lines":["tart"]},{"start":{"row":36,"column":49},"end":{"row":36,"column":64},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":0},"end":{"row":41,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":41,"column":0},"end":{"row":41,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":0},"end":{"row":47,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":47,"column":0},"end":{"row":47,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":34},"end":{"row":52,"column":38},"action":"remove","lines":["tart"]},{"start":{"row":52,"column":34},"end":{"row":52,"column":49},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":0},"end":{"row":54,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":54,"column":0},"end":{"row":54,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":0},"end":{"row":63,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":63,"column":0},"end":{"row":63,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":72,"column":0},"end":{"row":72,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":72,"column":0},"end":{"row":72,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":0},"end":{"row":80,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":80,"column":0},"end":{"row":80,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":0},"end":{"row":87,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":87,"column":0},"end":{"row":87,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":0},"end":{"row":94,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":94,"column":0},"end":{"row":94,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":102,"column":0},"end":{"row":102,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":102,"column":0},"end":{"row":102,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":109,"column":0},"end":{"row":109,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":109,"column":0},"end":{"row":109,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":116,"column":0},"end":{"row":116,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":116,"column":0},"end":{"row":116,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":124,"column":0},"end":{"row":124,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":124,"column":0},"end":{"row":124,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":132,"column":0},"end":{"row":132,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":132,"column":0},"end":{"row":132,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}]]},"ace":{"folds":[],"scrolltop":1947.5,"scrollleft":0,"selection":{"start":{"row":135,"column":0},"end":{"row":135,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":70,"state":"doc-start","mode":"ace/mode/javascript"}},"timestamp":1425303564478,"hash":"4e21cf6b0d7fd12a0b4c0a6320f413fbb8a9f618"}