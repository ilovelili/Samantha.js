{"filter":false,"title":"Sorter.js","tooltip":"/lib/SamanthaClosure/src/base/plugin/Sorter.js","undoManager":{"mark":13,"position":13,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":77,"column":0},"action":"insert","lines":["// Copyright 2011 Tart. All Rights Reserved.","//","// Licensed under the Apache License, Version 2.0 (the \"License\");","// you may not use this file except in compliance with the License.","// You may obtain a copy of the License at","//","//      http://www.apache.org/licenses/LICENSE-2.0","//","// Unless required by applicable law or agreed to in writing, software","// distributed under the License is distributed on an \"AS-IS\" BASIS,","// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","// See the License for the specific language governing permissions and","// limitations under the License.","","/**"," * @fileoverview tart.base.plugin.Sorter model sorter plugin."," */","","goog.provide('tart.base.plugin.Sorter');","","goog.require('tart.base.plugin.BasePlugin');","","","/**"," * @param {tart.base.Model} model"," *"," * @extends {tart.base.plugin.BasePlugin}"," * @constructor"," */","tart.base.plugin.Sorter = function (model) {","    goog.events.EventTarget.call(this);","","    /** @protected */","    this.model = model;","","    /** @protected **/","    this.sorts = [];","","    this.model.params.set(this.key, this.sorts);","};","goog.inherits(tart.base.plugin.Sorter, tart.base.plugin.BasePlugin);","","/**"," * Set plugin's param"," */","tart.base.plugin.Sorter.prototype.key = \"sortParams\";","","","/**"," * @param {string} field field to be sorted."," * @param {string} order order by directive, which is asc or desc."," */","tart.base.plugin.Sorter.prototype.addSort = function (field, order) {","","    /**","     * There can be multiple condition-value pair for a field","     */","    var fieldSorter = goog.array.find(this.sorts, function(item){","        return goog.object.getAnyKey(item) == field;","    });","","    //and if this field did not set before create a new object","    if (!fieldSorter) {","        fieldSorter = {};","    }","","    fieldSorter[field] = order;","    this.model.params.get(this.key).push(fieldSorter);","};","","/**"," * clear map for plugin"," */","tart.base.plugin.Sorter.prototype.clear = function () {","    this.sorts = [];","    this.model.params.set(this.key, this.sorts);","};",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":13,"column":0},"action":"remove","lines":["// Copyright 2011 Tart. All Rights Reserved.","//","// Licensed under the Apache License, Version 2.0 (the \"License\");","// you may not use this file except in compliance with the License.","// You may obtain a copy of the License at","//","//      http://www.apache.org/licenses/LICENSE-2.0","//","// Unless required by applicable law or agreed to in writing, software","// distributed under the License is distributed on an \"AS-IS\" BASIS,","// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.","// See the License for the specific language governing permissions and","// limitations under the License.",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":17},"end":{"row":1,"column":21},"action":"remove","lines":["tart"]},{"start":{"row":1,"column":17},"end":{"row":1,"column":32},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":14},"end":{"row":4,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":4,"column":14},"end":{"row":4,"column":29},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":14},"end":{"row":6,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":6,"column":14},"end":{"row":6,"column":29},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":11},"end":{"row":10,"column":15},"action":"remove","lines":["tart"]},{"start":{"row":10,"column":11},"end":{"row":10,"column":26},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":13},"end":{"row":12,"column":17},"action":"remove","lines":["tart"]},{"start":{"row":12,"column":13},"end":{"row":12,"column":28},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":15,"column":0},"end":{"row":15,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":15,"column":0},"end":{"row":15,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":14},"end":{"row":26,"column":18},"action":"remove","lines":["tart"]},{"start":{"row":26,"column":14},"end":{"row":26,"column":29},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":50},"end":{"row":26,"column":54},"action":"remove","lines":["tart"]},{"start":{"row":26,"column":50},"end":{"row":26,"column":65},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":0},"end":{"row":31,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":31,"column":0},"end":{"row":31,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":0},"end":{"row":38,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":38,"column":0},"end":{"row":38,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":0},"end":{"row":59,"column":4},"action":"remove","lines":["tart"]},{"start":{"row":59,"column":0},"end":{"row":59,"column":15},"action":"insert","lines":["SamanthaClosure"]}]}]]},"ace":{"folds":[],"scrolltop":779.5,"scrollleft":0,"selection":{"start":{"row":56,"column":3},"end":{"row":56,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":70,"mode":"ace/mode/javascript"}},"timestamp":1425303600478,"hash":"a44971f8c39de155220fc10fab989e1b953debbc"}